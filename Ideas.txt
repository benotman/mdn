Algorithms

/*
   send element id only
   I can have a property of the svg_id in each element
   in generic event handler, extract the svg_id when calling connections
   
   item_id, original fill, ..., # of incoming highlighting requests
   
   
   load all visual elements (that have connections) for default diagrams (then load visual elements for later loaded diagrams)
   
   element_id, original_color, # of incoming highlighting
   
   
   when click
     when change to selected 
	    if not in array add it with color saved before hover
        		
	 when restore to highlighted
	 
	 when 
         
   
   when do I change style
   select
      for first time (not found in array)
	    add item in array with original color (saved before hover)
	  else
        		  
   hoverout
   
hover 
  I need to save regular, hover, select, and related colours 
    hover (change current element using hover class e.g. diagram1:hover fill = )
    mousehover
      related elements -> save their style then change their style
    mouseout
      related elements -> go back to original style

	
    click_event	 
	  if(current is unselected or highlighted)
         change current to selected
	     highlight_related(viewid, id)
		   related = grep related elements in connections
		   for each i element in related
		      if i exist in highlighted
			    increment highlighted_count
			  else
                add i to highlighted and change color to highlighted				  
	  else // current is selected
		 if (highlight_count >0)
			change current to highlighted (diagram highlighted color)
         else
            change current to regular
         end if
		 unhighlight_related(viewid, id)
		   grep related elements from connections
		      grep related from highlighted
			    decrease and if anyone is 0 => unhighlight
      end if		 
      related elements -> 

regular, selected, highlighted	 
   show related content (button)	 
      
  class hover can change current element 
  change class 
*/